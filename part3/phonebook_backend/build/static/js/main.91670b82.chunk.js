(this.webpackJsonppart1=this.webpackJsonppart1||[]).push([[0],{14:function(e,n,t){e.exports=t(37)},36:function(e,n,t){},37:function(e,n,t){"use strict";t.r(n);var a=t(0),u=t.n(a),r=t(13),c=t.n(r),l=t(2),o=t(3),m=t.n(o),i="https://frozen-bastion-35916.herokuapp.com/api/persons",d=function(){return m.a.get(i)},s=function(e){return m.a.delete("".concat(i,"/").concat(e))},b=function(e){return m.a.post(i,e)},f=function(e){var n=e.addNumber,t=e.newName,a=e.handleName,r=e.newNumber,c=e.handleNumber;return u.a.createElement("form",{onSubmit:n},u.a.createElement("div",null,"name: ",u.a.createElement("input",{value:t,onChange:a}),"number: ",u.a.createElement("input",{value:r,onChange:c}),u.a.createElement("button",{type:"submit"},"add")))},p=function(){var e=Object(a.useState)([]),n=Object(l.a)(e,2),t=n[0],r=n[1],c=Object(a.useState)(""),o=Object(l.a)(c,2),m=o[0],i=o[1],p=Object(a.useState)(""),h=Object(l.a)(p,2),E=h[0],v=h[1],N=Object(a.useState)(null),g=Object(l.a)(N,2),j=g[0],O=g[1],k=function(e){var n=e.message;return null===n?null:u.a.createElement("div",{className:"error"},n)};Object(a.useEffect)((function(){d().then((function(e){r(e.data)}))}),[]);var w=function(e){var n=e.name,t=e.number,a=e.did;return u.a.createElement("p",null,n," ",t,u.a.createElement("button",{onClick:function(){return S(a)}},"delete"))},S=function(e){s(e).then(O("Deleted"),setTimeout((function(){O(null)}),2e3)),r(t.filter((function(n){return n.id!==e})))};return u.a.createElement("div",null,u.a.createElement(k,{message:j}),u.a.createElement("h2",null,"Phonebook"),u.a.createElement(f,{addNumber:function(e){e.preventDefault();var n={name:m,number:E,id:t.length+1};t.some((function(e){return e.name===m}))?(O("".concat(m," already exists")),setTimeout((function(){O(null)}),2e3)):(r(t.concat(n)),b(n).then((function(e){O("".concat(m," added to db")),setTimeout((function(){O(null)}),2e3)})),i(""),v(""))},newName:m,handleName:function(e){i(e.target.value)},newNumber:E,handleNumber:function(e){v(e.target.value)}}),u.a.createElement("h2",null,"Numbers"),t.map((function(e){return u.a.createElement(w,{name:e.name,number:e.number,key:e.id,did:e.id})})))};t(36);c.a.render(u.a.createElement(p,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.91670b82.chunk.js.map