{"version":3,"sources":["components/services/phones.js","components/Form.js","components/App.js","index.js"],"names":["baseUrl","axios","get","delid","delete","phoneObject","post","Form","addNumber","newName","handleName","newNumber","handleNumber","onSubmit","value","onChange","type","App","useState","persons","setPersons","setNewName","setNewNumber","errorMessage","setErrorMessage","Notification","message","className","useEffect","phoneService","then","response","data","Phonebook","name","number","did","onClick","ohrio","setTimeout","filter","person","id","event","preventDefault","length","some","concat","target","map","key","ReactDOM","render","document","getElementById"],"mappings":"2NACMA,EAAU,yDAcF,EAZC,WACX,OAAOC,IAAMC,IAAIF,IAWP,EAJC,SAAAG,GACX,OAAOF,IAAMG,OAAN,UAAgBJ,EAAhB,YAA2BG,KAGxB,EARC,SAAAE,GACX,OAAOJ,IAAMK,KAAKN,EAAQK,ICMbE,EAZL,SAAC,GAAyD,IAAxDC,EAAuD,EAAvDA,UAAUC,EAA6C,EAA7CA,QAAQC,EAAqC,EAArCA,WAAWC,EAA0B,EAA1BA,UAAUC,EAAgB,EAAhBA,aACjD,OACE,0BAAMC,SAAUL,GAChB,sCACQ,2BAAOM,MAAOL,EAASM,SAAUL,IADzC,WAEU,2BAAOI,MAAOH,EAAWI,SAAUH,IAC3C,4BAAQI,KAAK,UAAb,UCwFOC,EA5FH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACTC,EADS,KACAC,EADA,OAEgBF,mBAAS,IAFzB,mBAERT,EAFQ,KAECY,EAFD,OAGoBH,mBAAS,IAH7B,mBAGRP,EAHQ,KAGGW,EAHH,OAI0BJ,mBAAS,MAJnC,mBAIRK,EAJQ,KAIMC,EAJN,KAMVC,EAAe,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACtB,OAAgB,OAAZA,EACK,KAIP,yBAAKC,UAAU,SACZD,IAKPE,qBAAU,WACRC,IAECC,MAAK,SAAAC,GACJX,EAAWW,EAASC,WAEtB,IAEF,IAoCMC,EAAU,SAAC,GAAqB,IAApBC,EAAmB,EAAnBA,KAAKC,EAAc,EAAdA,OAAOC,EAAO,EAAPA,IAC5B,OACI,2BAAIF,EAAJ,IAAWC,EACX,4BAAQE,QAAS,kBAAIC,EAAMF,KAA3B,YAIFE,EAAQ,SAAAnC,GACV0B,EACQ1B,GACP2B,KACCN,EAAgB,WAChBe,YAAW,WAAKf,EAAgB,QAAO,MAEzCJ,EAAWD,EAAQqB,QAAO,SAAAC,GAAM,OAAEA,EAAOC,KAAKvC,OAGhD,OACE,6BACE,kBAACsB,EAAD,CAAcC,QAASH,IACvB,yCACA,kBAAC,EAAD,CAAMf,UAzDM,SAACmC,GACfA,EAAMC,iBAEN,IAAMvC,EAAc,CAClB6B,KAAMzB,EACN0B,OAAQxB,EACR+B,GAAIvB,EAAQ0B,OAAS,GAGpB1B,EAAQ2B,MAAK,SAAAL,GAAM,OAAEA,EAAOP,OAAOzB,MACpCe,EAAgB,GAAD,OAAIf,EAAJ,oBACf8B,YAAW,WAAKf,EAAgB,QAAO,OAGvCJ,EAAWD,EAAQ4B,OAAO1C,IAC1BwB,EACQxB,GACPyB,MAAK,SAAAC,GACJP,EAAgB,GAAD,OAAIf,EAAJ,iBACf8B,YAAW,WAAKf,EAAgB,QAAO,QAEzCH,EAAW,IACXC,EAAa,MAmCeb,QAASA,EAASC,WA7BjC,SAACiC,GAChBtB,EAAWsB,EAAMK,OAAOlC,QA4BgDH,UAAWA,EAAWC,aA1B7E,SAAC+B,GAClBrB,EAAaqB,EAAMK,OAAOlC,UA0BxB,uCACCK,EAAQ8B,KAAI,SAAA9B,GAAO,OAClB,kBAACc,EAAD,CAAWC,KAAMf,EAAQe,KAAMC,OAAQhB,EAAQgB,OAAQe,IAAK/B,EAAQuB,GAAIN,IAAKjB,EAAQuB,U,MCpF7FS,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.91670b82.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = 'https://frozen-bastion-35916.herokuapp.com/api/persons'\r\n\r\nconst getAll = () =>{\r\n    return axios.get(baseUrl)\r\n}\r\n\r\nconst create = phoneObject => {\r\n    return axios.post(baseUrl,phoneObject)\r\n}\r\n\r\nconst delrio = delid =>{\r\n    return axios.delete(`${baseUrl}/${delid}`)\r\n}\r\n\r\nexport default{\r\n    getAll,\r\n    delrio,\r\n    create\r\n}","import React from 'react'\r\n\r\nconst Form =({addNumber,newName,handleName,newNumber,handleNumber})=>{\r\n    return(\r\n      <form onSubmit={addNumber}>\r\n      <div>\r\n        name: <input value={newName} onChange={handleName}/>\r\n        number: <input value={newNumber} onChange={handleNumber}/>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n    )\r\n  }\r\n  \r\n  export default Form","import React, { useState, useEffect } from 'react'\r\nimport phoneService from './services/phones'\r\nimport Form from './Form'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ errorMessage, setErrorMessage ] = useState(null)\r\n\r\n  const Notification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className=\"error\">\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n  \r\n  useEffect(()=>{\r\n    phoneService\r\n    .getAll()\r\n    .then(response=>{\r\n      setPersons(response.data)\r\n      })\r\n  },[])\r\n\r\n  const addNumber=(event)=>{\r\n    event.preventDefault()\r\n    //console.log(persons)\r\n    const phoneObject = {\r\n      name: newName,\r\n      number: newNumber,\r\n      id: persons.length + 1\r\n    }\r\n    //console.log(persons.map(person=>person.name))\r\n    if(persons.some(person=>person.name===newName)){\r\n      setErrorMessage(`${newName} already exists`)\r\n      setTimeout(()=>{setErrorMessage(null)},2000)\r\n    }\r\n    else{\r\n      setPersons(persons.concat(phoneObject))\r\n      phoneService\r\n      .create(phoneObject)\r\n      .then(response=>{\r\n        setErrorMessage(`${newName} added to db`)\r\n        setTimeout(()=>{setErrorMessage(null)},2000)\r\n      })\r\n      setNewName('')\r\n      setNewNumber('')\r\n    }\r\n   \r\n  \r\n  }\r\n\r\n  const handleName=(event)=>{\r\n    setNewName(event.target.value)\r\n  }\r\n  const handleNumber=(event)=>{\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n\r\n  const Phonebook=({name,number,did})=>{\r\n    return(\r\n        <p>{name} {number} \r\n        <button onClick={()=>ohrio(did)}>delete</button></p>\r\n    )\r\n}\r\n\r\nconst ohrio = delid =>{\r\n    phoneService\r\n    .delrio(delid)\r\n    .then(\r\n      setErrorMessage('Deleted'),\r\n      setTimeout(()=>{setErrorMessage(null)},2000)\r\n    )\r\n    setPersons(persons.filter(person=>person.id!==delid))\r\n}\r\n\r\n  return (\r\n    <div>\r\n      <Notification message={errorMessage} />\r\n      <h2>Phonebook</h2>\r\n      <Form addNumber={addNumber} newName={newName} handleName={handleName} newNumber={newNumber} handleNumber={handleNumber} />\r\n      <h2>Numbers</h2>\r\n      {persons.map(persons=>\r\n        <Phonebook name={persons.name} number={persons.number} key={persons.id} did={persons.id}/>)}\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './components/App.js'\r\nimport './index.css'\r\n\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}